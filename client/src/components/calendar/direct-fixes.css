/* Core calendar event stacking fixes*/
.fc-event {
  position: relative !important; /* Make sure all events use relative positioning */
}

/* Set a base event stacking level */
.fc-timegrid-event {
  z-index: 100 !important; /* Default value for all events */
}

/* Higher z-index values for events at specific hours (later in day) */
.fc-timegrid-event[data-time="08:00"] { z-index: 800 !important; }
.fc-timegrid-event[data-time="09:00"] { z-index: 900 !important; }
.fc-timegrid-event[data-time="10:00"] { z-index: 1000 !important; }
.fc-timegrid-event[data-time="11:00"] { z-index: 1100 !important; }
.fc-timegrid-event[data-time="12:00"] { z-index: 1200 !important; }
.fc-timegrid-event[data-time="13:00"] { z-index: 1300 !important; }
.fc-timegrid-event[data-time="14:00"] { z-index: 1400 !important; }
.fc-timegrid-event[data-time="15:00"] { z-index: 1500 !important; }
.fc-timegrid-event[data-time="16:00"] { z-index: 1600 !important; }
.fc-timegrid-event[data-time="17:00"] { z-index: 1700 !important; }
.fc-timegrid-event[data-time="18:00"] { z-index: 1800 !important; }
.fc-timegrid-event[data-time="19:00"] { z-index: 1900 !important; }
.fc-timegrid-event[data-time="20:00"] { z-index: 2000 !important; }

/* Force reverse stacking on event containers */
.fc-timegrid-col-events {
  display: flex !important; 
  flex-direction: column-reverse !important;
}

/* Make sure event harnesses inherit z-index */
.fc-timegrid-event-harness {
  z-index: inherit !important;
}

/* Fix width constraints */
.fc-view-harness,
.fc-scroller,
.fc-scrollgrid,
.fc-scrollgrid-section,
.fc-scrollgrid-liquid,
.fc-scrollgrid-section-liquid,
.fc-timegrid {
  max-width: 100% !important;
  width: 100% !important;
}

/* Ensure events take proper size in cells */
.fc-timegrid-event {
  width: calc(100% - 4px) !important;
  margin: 2px !important;
  border-radius: 4px !important;
  overflow: hidden !important;
}