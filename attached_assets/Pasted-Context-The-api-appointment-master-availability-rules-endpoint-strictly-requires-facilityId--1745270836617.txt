Context:
  The `/api/appointment-master/availability-rules` endpoint strictly requires `facilityId` and `typeId` query parameters.  
  Our external booking flow is still calling it with `appointmentTypeId`, so the server keeps returning the 400 error:  
    { "message":"Both typeId and facilityId are required query parameters" }  

Goal:
  Fix every call to `/api/appointment-master/availability-rules` so it uses the exact parameter names `facilityId` and `typeId`. Then verify the response flows through to the UI so slots render correctly.

Tasks:
1. **Search & Replace in External Flow**  
   - In `client/src/pages/booking/external-booking.tsx` (and any variant like `external-booking-fixed.tsx`):
     - Find lines that do:
       ```ts
       fetch('/api/appointment-master/availability-rules?appointmentTypeId='+typeId)
       ```
       or
       ```ts
       fetch('/api/appointment-master/availability-rules?facilityId='+facilityId+'&appointmentTypeId='+typeId)
       ```
     - Replace with:
       ```ts
       fetch(`/api/appointment-master/availability-rules?facilityId=${facilityId}&typeId=${typeId}`)
       ```
     - Ensure `facilityId` comes from the selected location field and `typeId` comes from the selected appointmentType field.

2. **Audit Internal Flow (if needed)**  
   - In `UnifiedAppointmentForm` or wherever the internal booking calls this API, make the same replacement so both flows share the correct param names.

3. **Test the Fix**  
   - Redeploy and in your browser’s Network tab trigger step 2; confirm the request URL is now:
     ```
     GET /api/appointment-master/availability-rules?facilityId=1&typeId=5
     ```
   - Confirm the JSON response is a full array of `{ time, available, remaining }`.

4. **Verify UI Rendering**  
   - Both internal and external booking UIs should now display only in‑hours slots with remaining‑capacity badges and no more 400 errors.

Please implement these changes as one checkpoint, then let me know when you see the correct payload in Network → XHR and the slot grid populating.
