You are helping finalize a critical SaaS dock scheduling app, Dock Optimizer. You are addressing remaining P0 issues before launch. DO NOT BREAK ANY EXISTING FUNCTIONALITY. Follow these tasks precisely and fix each one-by-one, committing checkpoints after each.

ğŸ”§ TASKS (ordered by priority):
1. ğŸ” Fix BOL Document Display in Appointment Modal:
âœ… BOLs are uploading and saving in DB.

âŒ BOL documents are not showing up in the "Bill of Lading Documents" section inside the Appointment Details modal.

âœ… Null safety is in place now, but ensure file name, uploadedAt, and view/download link show if available.

âœ… Check if appointment.bolDocuments is populated, and use appointment.bolDocuments[0]?.fileUrl or similar for display.

ğŸ” Use a FileCheck icon, filename, and download link.

2. ğŸ”¢ Fix Appointment Confirmation Code Visibility:
âŒ Confirmation code is now missing from the Appointment Details modal.

âœ… Use: appointment.confirmationCode || "HZL-" + appointment.id.toString().padStart(6, "0")

ğŸ’¡ Display this in the modalâ€™s styled Badge or span, just below the "Appointment Confirmation Code" label.

3. ğŸ“„ Fix Booking Confirmation Page Details:
âŒ Booking confirmation page shows QR + code but not any other appointment data.

âœ… Pull from the final submitted appointment: driver, email, truck #, customer, etc.

ğŸ” File: client/src/pages/external/booking-confirmed.tsx

âœ… Also display the BOL upload message (already there) and confirmation code.

âœ… If email sending fails, show toast + yellow alert.

4. ğŸ§¾ Fix Customer Name & Email Required Fields in Booking Flow:
âŒ Booking form allows creating appointments without customerName or email â†’ breaks calendar display.

âœ… These fields must be required after facility + appointment type are selected.

âœ… They can be renamed (e.g., "Carrier Name" or "Vendor") per tenant, but underlying fields must be present.

ğŸ” Enforce this in StandardQuestionsFormFields logic.

5. ğŸ“† Clean Up Calendar Header White Space:
âŒ Calendar week view header cells (Sun/Mon/Tue...) have spacing issues.

âœ… Fix .fc-col-header-cell and .fc-day to align to grid.

ğŸ” File: client/src/components/calendar/calendar-enhanced.css

ğŸ§ª Sanity Checks:
Appointment creation works from public booking page

Booking confirmation shows appointment metadata + QR + BOL info

Admin calendar page renders without crash

Appointment modal shows confirmation code + BOL document info

âœ… After completing each item, checkpoint with a short note (e.g. â€œFixed BOL document display in modal âœ…â€).
âŒ Do not refactor types, API, or components outside the listed tasks unless directly related.
ğŸ§  Think like an engineer shipping production-grade SaaS code.

Let me know if you need help chunking this further!

